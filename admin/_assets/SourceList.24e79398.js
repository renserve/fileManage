let e=document.createElement("style");e.innerHTML=".video-js[data-v-9feace96]{width:100%;height:400px}.fileWrapper .quickSelect[data-v-9feace96]{padding:10px;border-bottom:1px solid #e9e9e9}.fileWrapper .fileListGroup[data-v-9feace96]{display:inline-block;margin:10px;width:180px;height:180px;padding:10px;border:1px solid #ddd;border-radius:5px;position:relative}.fileWrapper .fileListGroup .buttonGroup[data-v-9feace96]{position:absolute;right:0;top:0}.fileWrapper .fileListGroup .buttonGroup button[data-v-9feace96]{margin-left:12px}.fileWrapper .fileListGroup[data-v-9feace96] .ant-input{padding:0!important}.fileWrapper .fileListGroup[data-v-9feace96] .ant-checkbox-wrapper{vertical-align:top;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.fileWrapper .fileListGroup[data-v-9feace96] .ant-checkbox-wrapper .ant-checkbox{width:0;-webkit-box-flex:0;-ms-flex:0;flex:0}.fileWrapper .fileListGroup[data-v-9feace96] .ant-checkbox-wrapper>span:last-child{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.fileWrapper .fileListGroup[data-v-9feace96] .ant-checkbox-wrapper>span:last-child .fileItem{height:100px;text-align:center;line-height:100px}.fileWrapper .fileListGroup[data-v-9feace96] .ant-checkbox-wrapper>span:last-child .fileItem img{vertical-align:middle!important;max-width:100%;max-height:100%;overflow:hidden}.fileWrapper .fileListGroup[data-v-9feace96] .ant-checkbox-wrapper>span:last-child .ant-input-group-addon{padding:0!important}.fileWrapper .fileListGroup[data-v-9feace96] .ant-checkbox-wrapper>span:last-child .name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",document.head.appendChild(e);import{d5 as i,p as t,l as a,r as s,o as l,b as o,aA as p,b8 as n,m as d,n as r,e as c,s as h,d6 as f,q as A,v as g}from"./index.d2fc36ca.js";import{a as u,b as m}from"./index.4cae9c7b.js";import{C as x}from"./CheckOutlined.b0677ddc.js";import{h as k,c as C}from"./upload.1fabd67e.js";import"./index.be66050f.js";import"./useWindowSizeFn.8be0a4dc.js";import{u as w}from"./useCopyToClipboard.10174b83.js";var b={name:"FileList",props:["showFileList","gapGroup","type"],data(){return{filePath:"",fileType:{txt:{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABXUlEQVRYR+2XsU7DMBCG/4uo2z4AOwOIgRGRCokB3oCBgRE23oLyDCxssMGAxCPAglBTwcaAYGDnAdoYlKsckShtnXJGaiKQszn+7/zlT3L2ESYu3W+cMtMOgLXJOYfxUzPU6xI9FUVxX92AsSsJFGhEEDnAoKe6AeFYkNhF8iNEDhBH6hLAvkt2oXYmRA6go8Ytg7aFSV1lpRBVARhgK0SVAFaIqgGmIOoAABHdq414y9DUAwC+U+GnKXYe4G858EzgD0kFYtDirM2MXL8BZry1OnpFsnimGfbUKxGWbTHOACA8Jl/BXntz+C6BGDy0loKF5BoM65bsDlCyajPU6W8cR4olYJnGA3gHvAPegf/jADOdpYcK4qNaKqHLokVtyStQ5wwc/DapSxwBFyrUh2NHsjm1ZlauhHHS7ujuGIAZzLk7SmGK9k8BmBvfTpgecdXFVoH2JWFcZU+e6UfsrhcwkZSHqgAAAABJRU5ErkJggg==",text:"下载",fun:e=>{window.location.href=this.showFileList[e].path}},img:{text:"预览",fun:e=>this.handlePreview(e)},video:{title:"视频播放",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACOUlEQVRYR+2XPW/TQBjH/8/FPid8ARBlRrwIqSDiqIihXdkQAzsLCwPiZWFpsjCgghEblWDgOzCiZkC0cQRk4UXMtIINCYnEZzsPOtcOaVXoNXYdIfUGWzo/Lz8/d37Of0I6gnfyFEV8DUQXmdHI5ou8E6ED5tds0XPnnPqoY5O+9DuyKQiLRSbbNRah6dRVi369qc1UrPjryIGwQcxfdg0wgQETHQfjaOYaR5VjpLq2x0w39eSQ0ao1VHOC2MYu49Um4scU+PI9gFkGf6+64RHjSDkMB779jUCHAfQ0AG9uBm5LN1zIEdfYVfn2CoPmk7wHAP9VBQYd+1GybkTPHFd9MF70bYYT7YH+qjUvKmIlicX4CYInbeXRWfzYK0h+gD8ZPxOxJ+vh8l4gigRIC8KvIIRXPR+8NAHJDTCMhwvCEjfAuLIlIeEFMXvSDXv/AikEoDYXtZVv1wE8yJpKmnQAwHNcde9vEIUBZAmit/JyHKMF4Ew2x6Dlqhtc3wmicIDAl1cB6EPsxAiA2as2wlv7CpB+mvcBzI0lKmcJSIi7RLg0lU24vayMkj/DMYApNaJptGL91gPfeZr+vDwp/TAyabGmNhP1AdPgJnYHAFsqoLpyLZFihA2nrmZMSpjXJujKdS1QtFQj5dtLDLqtg5YuTMAPSYtSRBj932mBIoBPed9yJ/8hcDIVJJuPLZxOxGnQlYvg5DQrbWTVTgD00CLVsqM7zIlimd0nkh4Rt6PQWjp0ob+uc/wGIUrTEB077tQAAAAASUVORK5CYII=",text:"播放",fun:e=>{this.openModal(),this.fileType.video.title=this.showFileList[e].title,this.filePath=this.showFileList[e].path,this.$nextTick((()=>{videojs("videoWrapper")}))}},audio:{img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACmElEQVRYR+2WO2gUURiFzz/ZuXeXgGAR8BErtVErNbMmlamCgmATQbERFcSI8VWZwgQxlY+kSBoDpvGBAUFBEBtjY7IzPho7EVOICkKsZHfu7M6RkV3ZbPaVzUIQdrrh/v9/vjl37pkRrPEla6yP/xMgPRfbb8WsjaRsihwU4bcwG35PdGdnV+po3Q74ntpF8oxADgPYXEFoQcCnFJnSXeZjPTB1AfgpdQOCQQDtABYJeWIh/BCK9TUSsRh2hsBOAP0C6QDwG8S4TpqhWhA1AXxPPQbRT+CzBd62s8E96UG63GB+gg5+2SdDyCUBtgrgKsckq0FUBfBdxfwej9ltwajsxs9aTxSt8z06TE5NRODRvXZMRZ2KC8ZVKQJOSIwkkma4HuHSmnRKDVuCaxDM6C5zpNyMsgD5Pb9arbFeIOPZd0i5AGK03DuxDCB620HME/ihY6a7XtsrAUXb4WfVnAAbINhXejqWARjXHiNkUMAB5QST9T5ptTrj2mcJmSA4EXeCc8W1yx1w1ReC7Xp9sEW2w28GAN8gYWIqOrJp7ZjOigB/E67NekVwMu4EA80QL8zIuPqugKfCXNhbnJhLHPA9dRTEAyFPq2Qw1UwA4+rzBMchOKa7zMPC7CUAGVdfFvAmLemL7/VfNhMg6+mDOfI5IVfijn+rLMC/c5tfFXA2l+NIIx+ZaETG0wcEvA5iT0GwNFeWOFAK8DcFwVnlBL2NuOF76m2xeDRjxQC1orQaWCHKi2taAC0HWg5UdSCT0n0ifFHysZhWjjnRUA646hmAQyW9x7Vj7pdNQs5jnS9qyBI6UUGO8hqhNZ3oziw0AsB3epufCy9awI58/4ydDR5JDxbLAjQistqemn/FqxWo1d8CWHMH/gBg5Eww9Mzb0AAAAABJRU5ErkJggg==",text:"播放",fun:e=>{this.filePath?(this.filePath="",this.$nextTick((()=>{this.$refs.music.pause()}))):(this.filePath=this.showFileList[e].path,this.$nextTick((()=>{this.$refs.music.play()})))}}},checkList:[],indeterminate:[],fileIds:[]}},components:{CheckOutlined:x,BasicModal:u},setup(){const[e,{openModal:i}]=m();return{register:e,openModal:i}},methods:{copyPath(e){const{clipboardRef:t,copiedRef:a}=w();t.value=e,a&&i.success("复制成功！")},handleCancel(){this.filePath=""},handleSave(e,i){k({id:e,title:i,type:this.type})},handlePreview(e){C({imageList:this.showFileList.map((e=>e.path)),index:e})},getSelect(){return this.fileIds.filter((e=>e))},resetSelect(){this.checkList=this.checkList.map((e=>!1)),this.indeterminate=this.indeterminate.map((e=>!1)),this.fileIds=[]},onCheckAllChange(e,i){const t=this.showFileList.map((e=>e.id)).slice(i,i+this.gapGroup);this.checkList[i]=e.target.checked,this.indeterminate[i]=!1,e.target.checked?this.fileIds.splice(i,this.gapGroup,...t):this.fileIds.splice(i,this.gapGroup,...Array(this.gapGroup))},onChange(e,i,t){e.target.checked?this.fileIds[i]=t:this.fileIds[i]=null;const a=Math.ceil((i+1)/this.gapGroup)-1,s=this.fileIds.slice(a,a+this.gapGroup).filter((e=>e)).length;s===this.gapGroup?(this.indeterminate[a]=!1,this.checkList[a]=!0):(this.indeterminate[a]=!!s,this.checkList[a]=!1)}}};const v=h("data-v-9feace96");t("data-v-9feace96");const G={class:"fileWrapper"},y={key:0,class:"quickSelect"},I=g(" 一键勾选 "),B={class:"fileListGroup"},L={class:"fileItem"},R={class:"name"},P={style:{"margin-right":"8px"}},U={class:"buttonGroup"},F=g(" 复制 "),E={key:0,id:"videoWrapper",class:"video-js vjs-big-play-centered",controls:"","data-setup":"{}"};a();const j=v(((e,i,t,a,h,u)=>{const m=s("a-checkbox"),x=s("CheckOutlined"),k=s("a-input"),C=s("a-button"),w=s("BasicModal");return l(),o("div",G,[(l(!0),o(p,null,n(t.showFileList,((e,i)=>(l(),o(p,null,[(i-t.gapGroup)%t.gapGroup&&i?c("",!0):(l(),o("div",y,[r(m,{key:e.id,checked:h.checkList[Math.ceil((i+1)/t.gapGroup)-1],"onUpdate:checked":e=>h.checkList[Math.ceil((i+1)/t.gapGroup)-1]=e,indeterminate:h.indeterminate[Math.ceil((i+1)/t.gapGroup)-1],onChange:e=>u.onCheckAllChange(e,i)},{default:v((()=>[I])),_:2},1032,["checked","onUpdate:checked","indeterminate","onChange"])])),r("div",B,[r(m,{key:e.id,checked:h.fileIds.includes(e.id),onChange:t=>u.onChange(t,i,e.id)},{default:v((()=>[r("div",L,[r("img",{src:h.fileType[t.type].img||e.path,alt:e.path},null,8,["src","alt"])]),r("div",R,[r(k,{value:e.title,"onUpdate:value":i=>e.title=i},{addonAfter:v((()=>[r("div",{onClick:f((i=>u.handleSave(e.id,e.title)),["prevent"])},[r("span",P,A(e.path.substring(e.path.lastIndexOf("."))),1),r(x)],8,["onClick"])])),_:2},1032,["value","onUpdate:value"])])])),_:2},1032,["checked","onChange"]),r("div",U,[r(C,{onClick:i=>u.copyPath(e.path),size:"small"},{default:v((()=>[F])),_:1},8,["onClick"]),r(C,{onClick:e=>h.fileType[t.type].fun(i),size:"small"},{default:v((()=>[g(A(h.filePath===e.path?"暂停":h.fileType[t.type].text),1)])),_:2},1032,["onClick"])])])],64)))),256)),"video"===t.type?(l(),o(w,d({key:0,width:700,onCancel:u.handleCancel,canFullscreen:!1,onRegister:a.register,footer:null},e.$attrs,{title:h.fileType.video.title}),{default:v((()=>[h.filePath?(l(),o("video",E,[r("source",{src:h.filePath},null,8,["src"])])):c("",!0)])),_:1},16,["onCancel","onRegister","title"])):c("",!0),"audio"===t.type?(l(),o("audio",{key:1,src:h.filePath,ref:"music",loop:"loop",hidden:""},null,8,["src"])):c("",!0)])}));b.render=j,b.__scopeId="data-v-9feace96";export default b;
