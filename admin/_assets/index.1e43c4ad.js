import{P as e,Y as t,a as n,at as o,E as r,n as a,a3 as s,z as i,y as l,F as c,I as d,A as u,c_ as p,g as f,h as m,c as v,bM as y,i as g,Q as h,O as w,C as b,R as x,J as z,c$ as C,d0 as S,b1 as _,r as T,o as $,b as B,w as k,f as O,cY as A,b7 as E,d1 as P,s as H,e as j,aA as W,v as L,q as I,af as M,b4 as R,ar as q,m as F,a9 as Y,aa as N}from"./index.953c91ca.js";import{m as X,n as D,g as U,l as J,f as K,o as Q,w as G}from"./index.3e014b8e.js";import{p as V}from"./index.4a206340.js";import{t as Z}from"./useWindowSizeFn.b1b31d66.js";import{o as ee,a as te,b as ne,r as oe}from"./domUtils.a209b89e.js";function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={prefixCls:e.string,size:e.oneOfType([e.oneOf(t("large","small","default")),e.number]),shape:e.oneOf(t("circle","square"))},se=e.shape(ae).loose,ie=n({props:o(ae,{size:"large"}),render:function(){var e,t,n=this.$props,o=n.prefixCls,s=n.size,i=n.shape,l=r((re(e={},"".concat(o,"-lg"),"large"===s),re(e,"".concat(o,"-sm"),"small"===s),e)),c=r((re(t={},"".concat(o,"-circle"),"circle"===i),re(t,"".concat(o,"-square"),"square"===i),t)),d="number"==typeof s?{width:"".concat(s,"px"),height:"".concat(s,"px"),lineHeight:"".concat(s,"px")}:{};return a("span",{class:r(o,l,c),style:d},null)}}),le={prefixCls:e.string,width:e.oneOfType([e.number,e.string])},ce=e.shape(le),de=n({props:le,render:function(){var e=this.$props,t=e.prefixCls,n=e.width,o="number"==typeof n?"".concat(n,"px"):n;return a("h3",{class:t,style:{width:o}},null)}});function ue(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var fe=e.oneOfType([e.number,e.string]),me={prefixCls:e.string,width:e.oneOfType([fe,e.arrayOf(fe)]),rows:e.number},ve=e.shape(me),ye=n({props:me,methods:{getWidth:function(e){var t=this.width,n=this.rows,o=void 0===n?2:n;return Array.isArray(t)?t[e]:o-1===e?t:void 0}},render:function(){var e=this,t=this.$props,n=t.prefixCls,o=t.rows,r=ue(Array(o)).map((function(t,n){var o=e.getWidth(n);return a("li",{key:n,style:{width:"number"==typeof o?"".concat(o,"px"):o}},null)}));return a("ul",{class:n},[r])}});function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var be={active:e.looseBool,loading:e.looseBool,prefixCls:e.string,children:e.any,avatar:i(e.oneOfType([e.string,se,e.looseBool])),title:i(e.oneOfType([e.looseBool,e.string,ce])),paragraph:i(e.oneOfType([e.looseBool,e.string,ve]))};function xe(e){return e&&"object"===we(e)?e:{}}var ze=s(n({name:"ASkeleton",props:l(be,{avatar:!1,title:!0,paragraph:!0}),setup:function(){return{configProvider:c("configProvider",d)}},render:function(){var e,t,n=this.$props,o=n.prefixCls,s=n.loading,i=n.avatar,l=n.title,c=n.paragraph,d=n.active,p=(0,this.configProvider.getPrefixCls)("skeleton",o);if(s||!u(this,"loading")){var f,m,v,y=!!i||""===i,g=!!l,h=!!c;if(y){var w=he(he({prefixCls:"".concat(p,"-avatar")},function(e,t){return e&&!t?{shape:"square"}:{shape:"circle"}}(g,h)),xe(i));m=a("div",{class:"".concat(p,"-header")},[a(ie,w,null)])}if(g||h){var b,x;if(g){var z=he(he({prefixCls:"".concat(p,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(y,h)),xe(l));b=a(de,z,null)}if(h){var C=he(he({prefixCls:"".concat(p,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(y,g)),xe(c));x=a(ye,C,null)}v=a("div",{class:"".concat(p,"-content")},[b,x])}var S=r(p,(ge(f={},"".concat(p,"-with-avatar"),y),ge(f,"".concat(p,"-active"),d),f));return a("div",{class:S},[m,v])}return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)}}));let Ce;const Se={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function _e({move:e,size:t,bar:n}){const o={},r=`translate${n.axis}(${e}%)`;return o[n.size]=t,o.transform=r,o.msTransform=r,o.webkitTransform=r,o}var Te=n({name:"Bar",props:{vertical:{type:Boolean,default:!1},size:String,move:Number},setup(e){const t=f(null),n=f(null),o=m({}),r=v((()=>Se[e.vertical?"vertical":"horizontal"])),a=c("scroll-bar-wrap");function s(e){const{ctrlKey:t,button:n,currentTarget:a}=e;if(t||2===n||!a)return;!function(e){e.stopImmediatePropagation(),o.cursorDown=!0,te(document,"mousemove",l),te(document,"mouseup",d),document.onselectstart=()=>!1}(e);const s=g(r);o[s.axis]=a[s.offset]-(e[s.client]-a.getBoundingClientRect()[s.direction])}function i(e){const o=g(r),s=Math.abs(e.target.getBoundingClientRect()[o.direction]-e[o.client]),i=g(t),l=g(a),c=g(n);if(!i||!c||!l)return;const d=100*(s-i[o.offset]/2)/c[o.offset];l[o.scroll]=d*l[o.scrollSize]/100}function l(e){if(!1===o.cursorDown)return;const s=g(r),i=o[s.axis],l=g(n),c=g(a),d=g(t);if(!(i&&l&&d&&c))return;const u=100*(-1*(l.getBoundingClientRect()[s.direction]-e[s.client])-(d[s.offset]-i))/l[s.offset];c[s.scroll]=u*c[s.scrollSize]/100}function d(){const e=g(r);o.cursorDown=!1,o[e.axis]=0,ee(document,"mousemove",l),document.onselectstart=null}return y((()=>{ee(document,"mouseup",d)})),()=>{const o=g(r),{size:a,move:l}=e;return h("div",{class:["scrollbar__bar","is-"+o.key],onMousedown:i,ref:n},h("div",{ref:t,class:"scrollbar__thumb",onMousedown:s,style:_e({size:a,move:l,bar:o})}))}}}),$e=n({name:"Scrollbar",props:{native:Boolean,wrapStyle:{type:Object},wrapClass:{type:String,required:!1},viewClass:{type:String},viewStyle:{type:Object},noresize:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=f(null),o=f(null);z("scroll-bar-wrap",o);const r=m({sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0});function a(){const e=g(o);if(!e)return;const{scrollTop:t,scrollLeft:n,clientHeight:a,clientWidth:s}=e;r.moveY=100*t/a,r.moveX=100*n/s}function s(){const e=g(o);if(!e)return;const{scrollHeight:t,scrollWidth:n,clientHeight:a,clientWidth:s}=e,i=100*a/t,l=100*s/n;r.sizeHeight=i<100?i+"%":"",r.sizeWidth=l<100?l+"%":""}return w((()=>{Z((e=>{e.wrap=g(o)}));const{native:t,noresize:r}=e,a=g(n),i=g(o);!t&&a&&i&&(b(s),r||(X(a,s),X(i,s)))})),y((()=>{const{native:t,noresize:r}=e,a=g(n),i=g(o);!t&&a&&i&&(r||(D(a,s),D(i,s)))})),()=>{const{native:s,tag:i,viewClass:l,viewStyle:c,wrapClass:d,wrapStyle:u}=e;let f=u;const m=function(){if(!p)return 0;if(void 0!==Ce)return Ce;const e=document.createElement("div");e.className="scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const o=n.offsetWidth,r=e.parentNode;return r&&r.removeChild(e),Ce=t-o,Ce}();if(m){const e=`-${m}px`,t=`margin-bottom: ${e}; margin-right: ${e};`;Array.isArray(u)?(f=function(e){const t={};for(let r=0;r<e.length;r++)e[r]&&(n=t,o=e[r],Object.assign(n,o));var n,o;return t}(u),f.marginRight=f.marginBottom=e):x(u)?f+=t:f=t}const v=h(i,{class:["scrollbar__view",l],style:c,ref:n},U(t)),y=h("div",{ref:o,style:f,onScroll:a,class:[d,"scrollbar__wrap",m?"":"scrollbar__wrap--hidden-default"]},[v]);let g=[];const{moveX:w,sizeWidth:b,moveY:z,sizeHeight:C}=r;return g=s?[h("div",{ref:"wrap",class:[d,"scrollbar__wrap"],style:f},[v])]:[y,h(Te,{move:w,size:b}),h(Te,{vertical:!0,move:z,size:C})],h("div",{class:"scrollbar"},g)}}});let Be=0;const ke="webkit moz ms o".split(" ");let Oe,Ae;(()=>{if(C)Oe=Ae=()=>{};else{let e;Oe=window.requestAnimationFrame,Ae=window.cancelAnimationFrame;for(let t=0;t<ke.length&&(!Oe||!Ae);t++)e=ke[t],Oe=Oe||window[e+"RequestAnimationFrame"],Ae=Ae||window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"];Oe&&Ae||(Oe=function(e){const t=(new Date).getTime(),n=Math.max(0,16-(t-Be)),o=window.setTimeout((()=>{e(t+n)}),n);return Be=t+n,o},Ae=function(e){window.clearTimeout(e)})}})();function Ee({el:e,to:t,duration:n=500,callback:o}){const r=f(!1),a=(e=>e.scrollTop)(e),s=t-a;let i=0;n=S(n)?500:n;const l=function(){if(!g(r))return;i+=20;const t=(c=i,d=a,u=s,(c/=n/2)<1?u/2*c*c+d:-u/2*(--c*(c-2)-1)+d);var c,d,u;((e,t)=>{e.scrollTop=t})(e,t),i<n&&g(r)?Oe(l):o&&_(o)&&o()};return{start:()=>{r.value=!0,l()},stop:()=>{r.value=!1}}}var Pe=n({name:"ScrollContainer",components:{Scrollbar:$e},setup(){const e=f(null);return{scrollbarRef:e,scrollTo:function(t,n=500){const o=g(e);o&&b((()=>{const{start:e}=Ee({el:g(o.$.wrap),to:t,duration:n});e()}))},scrollBottom:function(){const t=g(e);t&&b((()=>{const e=t.$.wrap.scrollHeight,{start:n}=Ee({el:g(t.$.wrap),to:e});n()}))},getScrollWrap:function(){const t=g(e);return t?t.$.wrap:null}}}});function He(e,t="top center 0",o){return n({name:e,props:{group:{type:Boolean,default:!1},mode:{type:String,default:o},origin:{type:String,default:t}},setup(t,{slots:n,attrs:o}){const r=e=>{e.style.transformOrigin=t.origin};return()=>{const a=t.group?E:A;return h(a,{name:e,mode:t.mode,...o,onBeforeEnter:r},(()=>U(n)))}}})}Pe.render=function(e,t,n,o,r,a){const s=T("Scrollbar");return $(),B(s,{ref:"scrollbarRef",wrapClass:"scrollbar__wrap",viewClass:"scrollbar__view",class:"scroll-container"},{default:k((()=>[O(e.$slots,"default")])),_:3},512)};var je=n({name:"CollapseTransition",setup:()=>({on:{beforeEnter(e){ne(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){oe(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(ne(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){oe(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}})});const We=H("data-v-6f8c3672"),Le=We(((e,t,n,o,r,a)=>($(),B(A,P(e.on),{default:We((()=>[O(e.$slots,"default")])),_:3},16))));je.render=Le,je.__scopeId="data-v-6f8c3672";var Ie=n({name:"CollapseTransition",setup:(e,{slots:t})=>()=>h(je,null,(()=>U(t)))});He("fade-transition"),He("scale-transition"),He("slide-y-transition"),He("scroll-y-transition"),He("slide-y-reverse-transition"),He("scroll-y-reverse-transition"),He("slide-x-transition"),He("scroll-x-transition"),He("slide-x-reverse-transition"),He("scroll-x-reverse-transition"),He("scale-rotate-transition"),function(e,t,o="in-out"){n({name:e,props:{mode:{type:String,default:o}},setup:(n,{attrs:o,slots:r})=>()=>h(A,{name:e,mode:n.mode,...o,onBeforeEnter:t.beforeEnter,onEnter:t.enter,onLeave:t.leave,onAfterLeave:t.afterLeave,onLeaveCancelled:t.afterLeave},(()=>U(r)))})}("expand-x-transition",function(e="",t=!1){const n=t?"width":"height",o=`offset${r=n,r.charAt(0).toUpperCase()+r.slice(1)}`;var r;return{beforeEnter(e){e._parent=e.parentNode,e._initialStyle={transition:e.style.transition,overflow:e.style.overflow,[n]:e.style[n]}},enter(t){const n=t._initialStyle;t.style.setProperty("transition","none","important"),t.style.overflow="hidden",t.offsetHeight,t.style.transition=n.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame((()=>{}))},afterEnter:s,enterCancelled:s,leave(e){e._initialStyle={transition:"",overflow:e.style.overflow,[n]:e.style[n]},e.style.overflow="hidden",e.style[n]=`${e[o]}px`,e.offsetHeight,requestAnimationFrame((()=>e.style[n]="0"))},afterLeave:a,leaveCancelled:a};function a(t){e&&t._parent&&t._parent.classList.remove(e),s(t)}function s(e){const t=e._initialStyle[n];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[n]=t),Reflect.deleteProperty(e,"_initialStyle")}}("",!0));var Me=n({inheritAttrs:!1,components:{BasicArrow:J,BasicTitle:K}});const Re={class:"collapse-container__header"},qe={class:"collapse-container__action"};Me.render=function(e,t,n,o,r,s){const i=T("BasicTitle"),l=T("BasicArrow");return $(),B("div",Re,[a(i,{helpMessage:e.$attrs.helpMessage},{default:k((()=>[e.$attrs.title?($(),B(W,{key:0},[L(I(e.$attrs.title),1)],64)):O(e.$slots,"title",{key:1})])),_:1},8,["helpMessage"]),a("div",qe,[O(e.$slots,"action"),e.$attrs.canExpan?($(),B(l,{key:0,top:"",expand:e.$attrs.show,onClick:t[1]||(t[1]=t=>e.$emit("expand"))},null,8,["expand"])):j("",!0)])])};var Fe=n({name:"LazyContainer",components:{Skeleton:ze},props:{timeout:V.number,viewport:{type:"undefined"!=typeof window?window.HTMLElement:Object,default:()=>null},threshold:V.string.def("0px"),direction:V.oneOf(["vertical","horizontal"]).def("vertical"),tag:V.string.def("div"),maxWaitingTime:V.number.def(80),transitionName:V.string.def("lazy-container")},emits:["init"],setup(e,{emit:t}){const n=f(null),o=m({isInit:!1,loading:!1,intersectionObserverInstance:null});function r(){o.loading=!0,Q((()=>{o.isInit||(o.isInit=!0,t("init"))}),e.maxWaitingTime||80)}return w((()=>{!function(){const{timeout:t}=e;t&&Q((()=>{r()}),t)}(),function(){const{timeout:t,direction:o,threshold:a}=e;if(t)return;let s="0px";switch(o){case"vertical":s=`${a} 0px`;break;case"horizontal":s=`0px ${a}`}try{const{stop:t,observer:o}=function({target:e,root:t,onIntersect:n,rootMargin:o="0px",threshold:r=.1}){let a=()=>{};const s=f(null),i=M((()=>{a(),s.value=new IntersectionObserver(n,{root:t?t.value:null,rootMargin:o,threshold:r});const i=e.value;i&&s.value.observe(i),a=()=>{s.value&&(s.value.disconnect(),e.value&&s.value.unobserve(e.value))}}));return{observer:s,stop:()=>{a(),i()}}}({rootMargin:s,target:R(n.value,"$el"),onIntersect:e=>{(e[0].isIntersecting||e[0].intersectionRatio)&&(r(),o&&t())},root:R(e,"viewport")})}catch(e){r()}}()})),{elRef:n,...q(o)}}});const Ye={key:"component"},Ne={key:"skeleton",name:"lazy-skeleton"};function Xe(){const e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!0),e.eventType="message",window.dispatchEvent(e)}Fe.render=function(e,t,n,o,r,a){const s=T("Skeleton");return $(),B(E,F({class:"lazy-container"},e.$attrs,{ref:"elRef",name:e.transitionName,tag:e.tag,mode:"out-in"}),{default:k((()=>[e.isInit?($(),B("div",Ye,[O(e.$slots,"default",{loading:e.loading})])):($(),B("div",Ne,[e.$slots.skeleton?O(e.$slots,"skeleton",{key:0}):($(),B(s,{key:1}))]))])),_:1},16,["name","tag"])};var De=n({name:"CollapseContainer",components:{Skeleton:ze,LazyContainer:Fe,CollapseHeader:Me,CollapseTransition:Ie},props:{title:V.string.def(""),canExpan:V.bool.def(!0),helpMessage:{type:[Array,String],default:""},triggerWindowResize:V.bool,loading:V.bool,lazy:V.bool,lazyTime:V.number.def(0)},setup(e){const t=f(!0);return{show:t,handleExpand:function(){t.value=!t.value,e.triggerWindowResize&&Q(Xe,200)}}}});const Ue={class:"collapse-container p-2"},Je={key:1,class:"collapse-container__body"};De.render=function(e,t,n,o,r,s){const i=T("CollapseHeader"),l=T("Skeleton"),c=T("LazyContainer"),d=T("CollapseTransition");return $(),B("div",Ue,[a(i,F(e.$props,{show:e.show,onExpand:e.handleExpand}),{title:k((()=>[O(e.$slots,"title")])),_:1},16,["show","onExpand"]),a(d,{enable:e.canExpan},{default:k((()=>[e.loading?($(),B(l,{key:0})):Y(($(),B("div",Je,[e.lazy?($(),B(c,{key:0,timeout:e.lazyTime},{skeleton:k((()=>[O(e.$slots,"lazySkeleton")])),default:k((()=>[O(e.$slots,"default")])),_:3},8,["timeout"])):O(e.$slots,"default",{key:1})],512)),[[N,e.show]])])),_:1},8,["enable"])])};G(Pe);const Ke=G(De);G(Fe);export{Ke as C};
